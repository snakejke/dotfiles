#!/bin/bash

VOID_PACKAGES_DIR=~/void-packages

update_packages() {
    cd "$VOID_PACKAGES_DIR" || return
    git pull
    ./xbps-src bootstrap-update
    ./xbps-src show-sys-updates
}

install_updates() {
    cd "$VOID_PACKAGES_DIR" || return
    ./xbps-src update-sys
}

while getopts "ui" opt; do
    case $opt in
        u) update_packages ;;
        i) install_updates ;;
        *) echo "Неверный параметр: -$OPTARG" >&2 ; exit 1 ;;
    esac
done

if [ $# -eq 0 ]; then
    echo "Использование: xc [-u] [-i]"
    echo "  -u: Обновить пакеты (git pull, bootstrap-update, show-sys-updates)"
    echo "  -i: Установить обновления (update-sys)"
    exit 1
fi
